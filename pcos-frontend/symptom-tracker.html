<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Maitri — Symptom Tracker</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"/>

    <!-- Font Awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet"/>

    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600;700;800&family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet"/>

    <style>
        :root{
  --pink:#F37A7A;
  --softA:#ffd6e0;
  --softB:#e9e8ff;
  --muted:#6f6f6f;
  --nav-h:76px;
}

/* GLOBAL */
body{
  margin:0;
  padding-top:var(--nav-h);
  font-family:'Poppins',sans-serif;
  background:linear-gradient(120deg,var(--softA),var(--softB));
}

/* NAVBAR */
.navbar {
  position: fixed;
  top: 0; left: 0; right: 0;
  height: var(--nav-h);
  background: #fff;
  z-index: 1200;
  box-shadow: 0 6px 18px rgba(0,0,0,0.06);
}

.navbar .container {
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: space-between;
}

.navbar-brand {
  display:flex;
  align-items:center;
  gap:12px;
  text-decoration:none;
  color:inherit;
}

.navbar-brand img{
  width:56px;
  height:56px;
  border-radius:12px;
}

.brand-name{
  font-family:'Playfair Display',serif;
  font-size:2rem;
  font-weight:800;
}

.brand-name .i-grad{color:var(--pink);}

.nav-icons{
  display:flex;
  gap:12px;
  align-items:center;
}

.icon-btn{
  background:transparent;
  border:0;
  padding:8px 10px;
  border-radius:8px;
  font-weight:600;
  display:flex;
  gap:8px;
  align-items:center;
  color:#444;
}

.icon-btn:hover{
  background:#fff4f6;
  color:var(--pink);
}

.logout{
  background:var(--pink);
  color:#fff;
  border:0;
  padding:8px 12px;
  border-radius:10px;
  font-weight:700;
}

/* PAGE */
.main{
  max-width:900px;
  margin:0 auto;
  padding:30px 20px;
}

/* CARD — RESTORED */
.card{
  border:none;
  border-radius:20px;
  padding:24px;
  margin-bottom:26px;
  background:#fff;
  box-shadow:0 12px 30px rgba(0,0,0,0.08);
}

.card h4{
  font-size:1.6rem;
  font-weight:800;
}

.card h5{
  font-size:1.3rem;
  font-weight:700;
}

/* SYMPTOM GRID — RESTORED */
.symptom-grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(120px,1fr));
  gap:16px;
}

.symptom-item{
  background:#fff;
  border-radius:16px;
  padding:16px;
  text-align:center;
  transition:.25s;
  border:2px solid transparent;
}

/* IMPORTANT: this is used visually */
.symptom-item.active{
  border-color:var(--pink);
  background:#fff4f6;
}

.symptom-item.highlight{
  border-color: var(--pink);
  background: #fff4f6;
  box-shadow: 0 6px 20px rgba(243,122,122,0.25);
  transform: translateY(-2px);
}

.symptom-item i{
  font-size:26px;
  color:var(--pink);
}

.symptom-item span{
  display:block;
  margin-top:8px;
  font-weight:600;
}

/* CHARTS */
.chart-wrapper{
  position: relative;
  width: 100%;
  height: 320px;
}

/* HISTORY */
.entry{
  background:#fff;
  border-radius:16px;
  padding:16px;
  margin-bottom:14px;
  box-shadow:0 6px 16px rgba(0,0,0,0.06);
}

.entry small{
  color:var(--muted);
}
@media (max-width: 768px) {

  /* Keep navbar above all content */
  .navbar {
    z-index: 6000;
  }

  /* Mobile dropdown container */
  .navbar-collapse {
    position: absolute;
    top: var(--nav-h);
    left: 0;
    right: 0;
    background: #ffffff;
    padding: 16px;
    box-shadow: 0 12px 24px rgba(0,0,0,0.12);
    border-radius: 0 0 16px 16px;
  }

  /* Stack menu items vertically */
  .nav-icons {
    flex-direction: column;
    align-items: stretch;
    gap: 12px;
  }

  /* Make each item full-width & tappable */
  .icon-btn {
    width: 100%;
    justify-content: flex-start;
    font-size: 1rem;
  }

  /* Links should behave like buttons */
  .icon-btn {
    text-decoration: none;
  }

  /* Logout button alignment */
  .logout {
    width: 100%;
    text-align: center;
  }
}
    </style>
</head>

<body>
<script src="/js/auth.js"></script>
<script>
    requireAuth();
</script>

<!-- NAVBAR -->
<nav class="navbar navbar-expand-md">
    <div class="container">

        <a class="navbar-brand" href="/user-dashboard.html">
            <img src="/images/pcos_logo.png" alt="Maitri logo"/>
            <span class="brand-name">
        Ma<span class="i-grad">i</span>tr<span class="i-grad">i</span>
      </span>
        </a>

        <button class="navbar-toggler" type="button"
                data-bs-toggle="collapse"
                data-bs-target="#topNav">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse justify-content-end" id="topNav">

            <ul class="navbar-nav nav-icons">

                <li class="nav-item">
                    <a class="icon-btn nav-link" href="/cycle-tracker.html">
                        <i class="fa-solid fa-droplet"></i>
                        <span>Cycle</span>
                    </a>
                </li>

                <li class="nav-item">
                    <a class="icon-btn nav-link" href="/symptom-tracker.html">
                        <i class="fa-solid fa-heart-pulse"></i>
                        <span>Symptom</span>
                    </a>
                </li>

                <li class="nav-item">
                    <a class="icon-btn nav-link" href="/nutrition.html">
                        <i class="fa-solid fa-utensils"></i>
                        <span>Nutrition</span>
                    </a>
                </li>

                <li class="nav-item">
                    <a class="icon-btn nav-link" href="/reports.html">
                        <i class="fa-solid fa-file-medical"></i>
                        <span>Reports</span>
                    </a>
                </li>

                <li class="nav-item">
                    <button class="logout w-100" onclick="logout()">Logout</button>
                </li>

            </ul>

        </div>
    </div>
</nav>


<!-- JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="/js/symptom-view.js?v=5"></script>
<!-- MAIN -->
<div class="main">

    <!-- SYMPTOM OVERVIEW -->
    <div class="card">
        <h4 class="fw-bold mb-2">Your Symptom Overview</h4>
        <p class="text-muted mb-3">
            Review symptoms logged from your Daily Log on the dashboard.
        </p>

        <div class="symptom-grid">
            <div class="symptom-item" data-name="Cramps">
                <i class="fa-solid fa-bolt"></i><span>Cramps</span>
            </div>
            <div class="symptom-item " data-name="Fatigue">
                <i class="fa-solid fa-bed"></i><span>Fatigue</span>
            </div>
            <div class="symptom-item " data-name="Acne">
                <i class="fa-solid fa-face-smile"></i><span>Acne</span>
            </div>
            <div class="symptom-item " data-name="Mood">
                <i class="fa-solid fa-face-meh"></i><span>Mood</span>
            </div>
            <div class="symptom-item" data-name="Bloating">
                <i class="fa-solid fa-circle"></i><span>Bloating</span>
            </div>
            <div class="symptom-item" data-name="Headache">
                <i class="fa-solid fa-head-side-virus"></i><span>Headache</span>
            </div>
        </div>
    </div>

    <!-- TODAY -->
    <div class="card">
        <h5 class="fw-bold mb-3">Today’s Symptoms</h5>
        <div id="history"></div>

        <button class="btn btn-outline-secondary w-100 mt-3"
                onclick="location.href='/user-dashboard.html'">
            Edit Today’s Log
        </button>

    </div>
    <!-- SYMPTOM INSIGHTS -->
    <div class="card mt-4">
        <h5 class="fw-bold mb-3">Symptom Insights</h5>

        <!-- Chart -->
        <!-- Frequency Chart -->
        <div class="chart-wrapper">
            <canvas id="symptomFrequencyChart"></canvas>
        </div>

        <!-- Trend Chart -->
        <div class="chart-wrapper mt-5">
            <canvas id="symptomTrendChart"></canvas>
        </div>



        <!-- Insight Text -->
        <p class="text-muted mt-3" id="symptomInsightText">
            Reviewing your symptom patterns…
        </p>
    </div>



</div>

<!-- ORIGINAL JS (kept, overridden by view mode) -->
<script>
    console.log("Symptom page loaded in view-only mode");
</script>

</body>
</html>
